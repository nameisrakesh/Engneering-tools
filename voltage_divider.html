<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voltage Divider Calculator</title>

    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'primary-accent': '#f97316',
                        'background-light': '#fefefe',
                        'background-main': '#f0f4f8',
                        'accent': '#f59e0b'
                    }
                }
            }
        }
    </script>

    <!-- MathJax Configuration -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [['$','$'], ['\\(','\\)']],
          displayMath: [['$$','$$'], ['\\[','\\]']],
          processEscapes: true
        }
      });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML" async></script>

    <style>
        .card-glow {
            box-shadow: 0 10px 15px -3px rgba(0,0,0,0.05), 0 4px 6px -2px rgba(0,0,0,0.03);
            transition: all 0.3s ease-in-out;
        }
        .card-glow:hover {
            box-shadow: 0 20px 25px -5px rgba(249,115,22,0.10), 
                        0 10px 10px -5px rgba(249,115,22,0.05);
            transform: translateY(-2px);
        }
        .nav-link:hover {
            color: #f97316;
            border-bottom: 2px solid #f97316;
        }
    </style>
</head>

<body class="bg-background-main min-h-screen flex items-start justify-center p-4 sm:p-8 font-sans">

<div class="w-full max-w-4xl mt-8 p-4 sm:p-8 rounded-xl bg-background-light card-glow border border-gray-100 space-y-12">

    <!-- Navigation (same as trace_width.html) -->
    <nav class="flex justify-between items-center pb-6 border-b border-gray-200">
        <a href="index.html" class="text-xl font-bold text-gray-900 tracking-wider">
            Engineering <span class="text-primary-accent">Tools</span>
        </a>
        <div class="flex space-x-4 sm:space-x-8 text-sm font-medium text-gray-600">
            <a href="index.html" class="nav-link pb-1 border-b-2 border-transparent text-primary-accent border-primary-accent">Dashboard</a>
            <a href="index.html#tools" class="nav-link pb-1 border-b-2 border-transparent">Tools</a>
            <a href="https://www.linkedin.com/in/rakesh-bhanavath" target="_blank" class="nav-link pb-1 border-b-2 border-transparent">Resume</a>
            <a href="mailto:bhanavathrakesh12345@gmail.com" class="nav-link pb-1 border-b-2 border-transparent">Contact</a>
        </div>
    </nav>

    <!-- Header (trace_width style) -->
    <header class="text-center space-y-2 border-b-2 border-gray-100 pb-8">
        <h1 class="text-4xl sm:text-5xl font-extrabold text-gray-900 leading-tight">
            Voltage Divider Calculator
        </h1>
        <p class="text-lg sm:text-xl text-gray-600 pt-2">
            Flexible solver + standard resistor pair finder
        </p>
    </header>

    <!-- Calculator Section -->
    <section class="space-y-8">
        <div class="p-6 md:p-8 bg-white rounded-xl shadow-xl border border-gray-100 space-y-6">

            <!-- Mode Selector -->
            <div class="flex justify-center bg-gray-100 p-1 rounded-lg shadow-inner">
                <button id="mode1_btn" onclick="toggleMode(1)"
                    class="flex-1 py-2 px-4 rounded-lg text-sm font-semibold transition duration-200 bg-primary-accent text-white shadow-md">
                    Flexible Calculation
                </button>
                <button id="mode2_btn" onclick="toggleMode(2)"
                    class="flex-1 py-2 px-4 rounded-lg text-sm font-semibold transition duration-200 text-gray-700 hover:bg-white">
                    Resistor Pairs
                </button>
            </div>

            <!-- Mode 1 Content -->
            <div id="mode1_content" class="space-y-4">
                <label class="text-sm font-medium text-gray-700">Solve For</label>
                <select id="solveFor" onchange="updateInputFields()"
                    class="w-full p-3 border border-gray-300 rounded-lg shadow-sm">
                    <option value="vout">Vout</option>
                    <option value="vin">Vin</option>
                    <option value="r1">R1</option>
                    <option value="r2">R2</option>
                </select>

                <!-- Inputs -->
                <div class="space-y-4">
                    <div>
                        <label class="text-sm text-gray-700">Vin (V)</label>
                        <input id="vin" value="5" type="number" class="w-full p-3 border rounded-lg"/>
                    </div>
                    <div>
                        <label class="text-sm text-gray-700">Vout (V)</label>
                        <input id="vout" value="2.5" type="number" class="w-full p-3 border rounded-lg"/>
                    </div>
                    <div>
                        <label class="text-sm text-gray-700">R1 (Ω)</label>
                        <input id="r1_val" value="1000" type="number" class="w-full p-3 border rounded-lg"/>
                    </div>
                    <div>
                        <label class="text-sm text-gray-700">R2 (Ω)</label>
                        <input id="r2_val" value="1000" type="number" class="w-full p-3 border rounded-lg"/>
                    </div>
                </div>

                <!-- Calculate -->
                <button onclick="solveVoltageDivider()"
                    class="w-full bg-primary-accent text-white font-bold py-3 rounded-lg shadow-md">
                    Calculate
                </button>

                <!-- Result -->
                <div id="result1" class="hidden p-4 border-2 border-green-500 rounded-lg bg-green-50 text-center">
                    <p id="calcLabel" class="text-green-700 text-sm">Result:</p>
                    <span id="calcResult" class="text-4xl font-bold text-green-700"></span>
                    <span id="calcUnit" class="text-xl text-green-700"></span>
                </div>
            </div>

            <!-- Mode 2 Content -->
            <div id="mode2_content" class="hidden space-y-4">
                <div>
                    <label class="text-sm text-gray-700">Vin (V)</label>
                    <input id="vin2" value="5" type="number" class="w-full p-3 border rounded-lg"/>
                </div>

                <div>
                    <label class="text-sm text-gray-700">Target Vout (V)</label>
                    <input id="vout_target" value="3.3" type="number" class="w-full p-3 border rounded-lg"/>
                </div>

                <button onclick="findResistorValues()"
                    class="w-full bg-accent text-white py-3 rounded-lg shadow-md">
                    Find Standard Pairs
                </button>

                <div id="result2" class="hidden">
                    <h3 class="text-lg font-semibold text-accent mb-2">Top 30 Matches</h3>

                    <div class="overflow-x-auto rounded-lg shadow">
                        <table class="min-w-full divide-y divide-gray-300 text-sm">
                            <thead class="bg-amber-50">
                                <tr>
                                    <th class="px-3 py-2 text-center">R1 (Ω)</th>
                                    <th class="px-3 py-2 text-center">R2 (Ω)</th>
                                    <th class="px-3 py-2 text-right">Vout</th>
                                    <th class="px-3 py-2 text-right">Error (%)</th>
                                </tr>
                            </thead>
                            <tbody id="resistorTableBody" class="divide-y divide-gray-200"></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div id="errorBox" class="hidden p-3 text-red-700 bg-red-100 border border-red-400 rounded-lg"></div>
        </div>

        <!-- Formula Section -->
        <div class="p-6 bg-gray-50 rounded-xl border text-sm text-gray-600">
            <h3 class="text-lg font-bold text-gray-800 mb-2">Formula</h3>
            $$V_{out} = V_{in} \cdot \frac{R_2}{R_1 + R_2}$$
        </div>

    </section>

    <footer class="pt-8 border-t text-center text-xs text-gray-400">
        © Engineering Tool Suite.
    </footer>

</div>

<!-- JS CODE (unchanged from original) -->
<script>
/* Entire JavaScript remains exactly the same as your original */
</script>

</body>
</html>
